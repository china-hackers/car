{"version":3,"sources":["webpack:///src/pages/business/customers.vue","webpack:///./src/pages/business/customers.vue?f6e4","webpack:///./src/pages/business/customers.vue"],"names":["customers","data","active","loading","finished","curPage","list","watch","v","this","research","computed","rightWidth","methods","onLoad","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","$http","post","is_deal","p","sent","console","log","concat","length","total","t0","stop","makeDeal","$router","push","path","query","id","shixiao","_this2","_callee2","_context2","confirm","success","business_customers","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","model","value","callback","$$v","expression","offset","on","load","_l","item","index","key","right-width","_v","_s","name","phone","slot","click","$event","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"oJAoBAA,GACAC,KADA,WAEA,OACAC,OAAA,EACAC,SAAA,EACAC,UAAA,EACAC,QAAA,EACAC,UAGAC,OACAL,OADA,SACAM,GACAC,KAAAC,aAGAC,UACAC,WADA,WAEA,WAAAH,KAAAP,OAAA,QAGAW,SACAH,SADA,WAEAD,KAAAL,UAAA,EACAK,KAAAH,QACAG,KAAAJ,QAAA,EACAI,KAAAN,SAAA,GAEAW,OAPA,WAOA,IAAAC,EAAAN,KAAA,OAAAO,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAApB,EAAA,OAAAgB,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACAV,EAAAZ,QADA,CAAAoB,EAAAE,KAAA,gBAEAV,EAAAZ,SAAA,EAFAoB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIAV,EAAAW,MAAAC,KAAA,8BACAC,QAAAb,EAAAb,OACA2B,EAAAd,EAAAV,UANA,OAAAgB,EAAAE,EAAAO,KAIA7B,EAJAoB,EAIApB,KAIA8B,QAAAC,IAAA/B,GACAc,EAAAT,KAAAS,EAAAT,KAAA2B,OAAAhC,EAAAK,MACAS,EAAAT,KAAA4B,QAAAjC,EAAAkC,QACApB,EAAAX,UAAA,GAEAW,EAAAV,SAAA,EAbAkB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAeAQ,QAAAC,IAAAT,EAAAa,IAfA,QAiBArB,EAAAZ,SAAA,EAjBA,yBAAAoB,EAAAc,SAAAjB,EAAAL,IAAA,UAAAC,IAoBAsB,SA3BA,SA2BArC,GACAQ,KAAA8B,QAAAC,MACAC,KAAA,2BACAC,OACAC,GAAA1C,EAAA0C,OAIAC,QAnCA,SAmCA3C,GAAA,IAAA4C,EAAApC,KAAA,OAAAO,IAAAC,EAAAC,EAAAC,KAAA,SAAA2B,IAAA,OAAA7B,EAAAC,EAAAI,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAAsB,EAAAvB,KAAA,EAAAuB,EAAAtB,KAAA,EAEAoB,EAAAG,QAAA,QAFA,cAAAD,EAAAtB,KAAA,EAGAoB,EAAAnB,MAAAC,KAAA,+BACAgB,GAAA1C,EAAA0C,KAJA,OAMAE,EAAAI,QAAA,QACAJ,EAAA/B,SAPAiC,EAAAtB,KAAA,gBAAAsB,EAAAvB,KAAA,EAAAuB,EAAAX,GAAAW,EAAA,SASAhB,QAAAC,IAAAe,EAAAX,IATA,yBAAAW,EAAAV,SAAAS,EAAAD,IAAA,SAAA7B,MCxEekC,GADEC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,cAAmBG,OAAOC,MAAA,UAAgBJ,EAAA,YAAiBK,OAAOC,MAAAT,EAAA,OAAAU,SAAA,SAAAC,GAA4CX,EAAAlD,OAAA6D,GAAeC,WAAA,YAAsBT,EAAA,WAAgBG,OAAOC,MAAA,SAAeJ,EAAA,WAAgBG,OAAOC,MAAA,SAAeJ,EAAA,WAAgBG,OAAOC,MAAA,UAAe,GAAAJ,EAAA,YAAqBE,YAAA,OAAAC,OAA0BvD,QAAAiD,EAAAjD,QAAAC,SAAAgD,EAAAhD,SAAA6D,OAAA,KAA2DC,IAAKC,KAAAf,EAAAtC,SAAmBsC,EAAAgB,GAAAhB,EAAA,cAAAiB,EAAAC,GAAwC,OAAAf,EAAA,kBAA4BgB,IAAAF,EAAA1B,GAAAc,YAAA,OAAAC,OAAsCc,cAAApB,EAAAxC,cAA8B2C,EAAA,OAAYE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,SAAmBF,EAAA,QAAaE,YAAA,SAAmBL,EAAAqB,GAAA,MAAArB,EAAAsB,GAAAL,EAAAM,SAAApB,EAAA,QAA+CE,YAAA,UAAoBL,EAAAqB,GAAA,MAAArB,EAAAsB,GAAAL,EAAAO,YAAArB,EAAA,OAAiDE,YAAA,UAAoBL,EAAAqB,GAAA,OAAArB,EAAAsB,GAAAL,EAAAV,YAAA,GAAAP,EAAAlD,OAAAqD,EAAA,OAAkEE,YAAA,OAAAC,OAA0BmB,KAAA,SAAeA,KAAA,UAActB,EAAA,QAAaE,YAAA,YAAAS,IAA4BY,MAAA,SAAAC,GAAyB3B,EAAAd,SAAA+B,OAAqBjB,EAAAqB,GAAA,QAAAlB,EAAA,QAA4BE,YAAA,UAAAS,IAA0BY,MAAA,SAAAC,GAAyB3B,EAAAR,QAAAyB,OAAoBjB,EAAAqB,GAAA,UAAArB,EAAA4B,WAA8B,IAElrCC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpF,EACAkD,GATF,EAVA,SAAAmC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"js/16.62ce91e28b07ee2a7e21.js","sourcesContent":["<template lang=\"pug\">\n.page\n    my-nav-bar(title=\"我的客户\")\n    van-tabs(v-model=\"active\")\n        van-tab(title=\"进行中\")\n        van-tab(title=\"已成交\")\n        van-tab(title=\"已失效\")\n    van-list.list(:loading=\"loading\" :finished=\"finished\" @load=\"onLoad\" :offset=\"600\")\n        van-swipe-cell.item(v-for=\"(item, index) in list\" :key=\"item.id\" :right-width=\"rightWidth\")\n            .cell\n                .info\n                    span.name 姓名：{{item.name}}\n                    span.phone 电话：{{item.phone}}\n                .title 意向车：{{item.title}}\n            .btns(slot=\"right\" v-if=\"active==0\")\n                span.btn.green(@click=\"makeDeal(item)\") 成交\n                span.btn.red(@click=\"shixiao(item)\") 失效\n</template>\n\n<script>\nexport default {\n    data () {\n        return {\n            active: 0,\n            loading: false,\n            finished: false,\n            curPage: 1,\n            list: []\n        };\n    },\n    watch: {\n        active (v) {\n            this.research();\n        }\n    },\n    computed: {\n        rightWidth () {\n            return this.active === 0 ? 120 : 0;\n        }\n    },\n    methods: {\n        research () {\n            this.finished = false;\n            this.list = [];\n            this.curPage = 1;\n            this.loading = false;\n        },\n        async onLoad () {\n            if (!this.loading) {\n                this.loading = true;\n                try {\n                    let { data } = await this.$http.post('/mobile/business/orderlist', {\n                        is_deal: this.active,\n                        p: this.curPage\n                    });\n                    console.log(data);\n                    this.list = this.list.concat(data.list);\n                    if (this.list.length >= data.total) {\n                        this.finished = true;\n                    }\n                    this.curPage += 1;\n                } catch (error) {\n                    console.log(error);\n                }\n                this.loading = false;\n            }\n        },\n        makeDeal (data) {\n            this.$router.push({\n                path: '/business/customers/deal',\n                query: {\n                    id: data.id\n                }\n            });\n        },\n        async shixiao (data) {\n            try {\n                await this.confirm('确认失效');\n                await this.$http.post('/mobile/business/orderclose', {\n                    id: data.id\n                });\n                this.success('操作成功');\n                this.onLoad();\n            } catch (error) {\n                console.log(error);\n            }\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n    .list {\n        .item {\n            border-bottom: 1px solid #f5f5f5;\n            .cell {\n                padding: 1rem 1rem;\n                .info {\n                    .phone {\n                        padding-left: 1rem;\n                    }\n                }\n                .title {\n                    padding-top: 0.6rem;\n                    color: #999;\n                }\n            }\n            .btns {\n                width: 120px;\n                height: 100%;\n                display: flex;\n                align-items: stretch;\n                .btn {\n                    display: block;\n                    width: 60px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    color: #fff;\n                    &.green {\n                        background-color: rgb(37, 155, 36);\n                    }\n                    &.blue {\n                        background-color: rgb(65, 141, 255);\n                    }\n                    &.red {\n                        background-color: rgb(255, 84, 84);\n                    }\n                }\n            }\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/business/customers.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('my-nav-bar',{attrs:{\"title\":\"我的客户\"}}),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"进行中\"}}),_c('van-tab',{attrs:{\"title\":\"已成交\"}}),_c('van-tab',{attrs:{\"title\":\"已失效\"}})],1),_c('van-list',{staticClass:\"list\",attrs:{\"loading\":_vm.loading,\"finished\":_vm.finished,\"offset\":600},on:{\"load\":_vm.onLoad}},_vm._l((_vm.list),function(item,index){return _c('van-swipe-cell',{key:item.id,staticClass:\"item\",attrs:{\"right-width\":_vm.rightWidth}},[_c('div',{staticClass:\"cell\"},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"姓名：\"+_vm._s(item.name))]),_c('span',{staticClass:\"phone\"},[_vm._v(\"电话：\"+_vm._s(item.phone))])]),_c('div',{staticClass:\"title\"},[_vm._v(\"意向车：\"+_vm._s(item.title))])]),(_vm.active==0)?_c('div',{staticClass:\"btns\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('span',{staticClass:\"btn green\",on:{\"click\":function($event){_vm.makeDeal(item)}}},[_vm._v(\"成交\")]),_c('span',{staticClass:\"btn red\",on:{\"click\":function($event){_vm.shixiao(item)}}},[_vm._v(\"失效\")])]):_vm._e()])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6efca546\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.vue-loader@13.7.3@vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/.vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/business/customers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6efca546\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./customers.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./customers.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./customers.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6efca546\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/.vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./customers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6efca546\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/business/customers.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}