webpackJsonp([21],{acEt:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=s("5/aF"),n=s.n(t),r=s("1p1D"),o=s.n(r),l=s("Z34F"),c=s.n(l),i={data:function(){return{hasPhone:!1,hasRecommend:!1,business:"",phone:"",type:"1",form:{name:"",sex:"男",city:"成都",id_card:""}}},computed:{bindPhone:function(){return this.hasPhone?this.phone:"请先绑定手机"}},methods:{save:function(){var e=this;return c()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e.phone){a.next=3;break}return e.fail("请先绑定手机"),a.abrupt("return",!1);case 3:return a.prev=3,s=o()({},e.form),"0"===e.type&&(s.business=e.business),a.next=8,e.$http.post("/mobile/business/register",s);case 8:e.success("申请成功,请耐心等待审核"),e.$router.replace({path:"/main/profile"}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(3),console.log(a.t0);case 15:case"end":return a.stop()}},a,e,[[3,12]])}))()}},created:function(){var e=this;return c()(n.a.mark(function a(){var s,t;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$http.post("/mobile/business/info",{p:1});case 3:s=a.sent,(t=s.data).phone&&(e.phone=t.phone,e.hasPhone=!0),t.business&&(e.business=t.business,e.hasRecommend=!0),console.log(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}},a,e,[[0,10]])}))()}},u={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"page-join"},[s("my-nav-bar",{attrs:{title:"加入爱品车"}}),s("van-cell-group",[s("van-cell",{staticClass:"vancell",attrs:{title:"电话","is-link":"is-link",value:e.bindPhone,to:{path:"/my/bind"}}}),s("my-form-select",{attrs:{label:"类型",placeholder:"请选择",actions:[{name:"车商",value:"0"},{name:"I品车销售",value:"1"}]},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}}),"0"===e.type?s("van-field",{attrs:{label:"车行名称",placeholder:"请输入车行名称"},model:{value:e.business,callback:function(a){e.business=a},expression:"business"}}):e._e(),1===e.type&&e.hasRecommend?s("van-field",{attrs:{label:"推荐人",disabled:"disabled"},model:{value:e.business,callback:function(a){e.business=a},expression:"business"}}):e._e(),s("van-field",{attrs:{label:"真实姓名",placeholder:"请输入真实姓名"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}),s("my-form-select",{attrs:{label:"性别",placeholder:"请选择",actions:[{name:"男",value:"男"},{name:"女",value:"女"}]},model:{value:e.form.sex,callback:function(a){e.$set(e.form,"sex",a)},expression:"form.sex"}}),s("van-field",{attrs:{label:"所在城市",disabled:"disabled"},model:{value:e.form.city,callback:function(a){e.$set(e.form,"city",a)},expression:"form.city"}}),s("van-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号"},model:{value:e.form.id_card,callback:function(a){e.$set(e.form,"id_card",a)},expression:"form.id_card"}})],1),s("my-bottom-bar",{staticClass:"bottom",attrs:{click:e.save}},[s("div",{staticClass:"g-bottom-btn"},[e._v("提交")])])],1)},staticRenderFns:[]};var d=s("7jd7")(i,u,!1,function(e){s("yQrC")},null,null);a.default=d.exports},yQrC:function(e,a){}});
//# sourceMappingURL=21.42fd0dd32373f494d6db.js.map