webpackJsonp([20],{acEt:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("lC5x"),n=t.n(a),r=t("4YfN"),l=t.n(r),o=t("J0Oq"),c=t.n(o),i={data:function(){return{hasPhone:!1,hasRecommend:!1,business:"",phone:"",type:"1",form:{name:"",sex:"男",city:"成都",id_card:""}}},computed:{bindPhone:function(){return this.hasPhone?this.phone:"请先绑定手机"}},methods:{save:function(){var e=this;return c()(n.a.mark(function s(){var t;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(""!==e.phone){s.next=3;break}return e.fail("请先绑定手机"),s.abrupt("return",!1);case 3:return s.prev=3,t=l()({},e.form),"0"===e.type&&(t.business=e.business),s.next=8,e.$http.post("/mobile/business/register",t);case 8:e.success("申请成功,请耐心等待审核"),e.$router.replace({path:"/main/profile"}),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(3),console.log(s.t0);case 15:case"end":return s.stop()}},s,e,[[3,12]])}))()}},created:function(){var e=this;return c()(n.a.mark(function s(){var t,a;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$http.post("/mobile/business/info",{p:1});case 3:t=s.sent,(a=t.data).phone&&(e.phone=a.phone,e.hasPhone=!0),a.business&&(e.business=a.business,e.hasRecommend=!0),console.log(a),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.log(s.t0);case 13:case"end":return s.stop()}},s,e,[[0,10]])}))()}},u={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"page-join"},[t("my-nav-bar",{attrs:{title:"加入爱品车"}}),t("van-cell-group",[t("van-cell",{staticClass:"vancell",attrs:{title:"电话","is-link":"is-link",value:e.bindPhone,to:{path:"/my/bind"}}}),t("my-form-select",{attrs:{label:"类型",placeholder:"请选择",actions:[{name:"车商",value:"0"},{name:"I品车销售",value:"1"}]},model:{value:e.type,callback:function(s){e.type=s},expression:"type"}}),"0"===e.type?t("van-field",{attrs:{label:"车行名称",placeholder:"请输入车行名称"},model:{value:e.business,callback:function(s){e.business=s},expression:"business"}}):e._e(),1===e.type&&e.hasRecommend?t("van-field",{attrs:{label:"推荐人",disabled:"disabled"},model:{value:e.business,callback:function(s){e.business=s},expression:"business"}}):e._e(),t("van-field",{attrs:{label:"真实姓名",placeholder:"请输入真实姓名"},model:{value:e.form.name,callback:function(s){e.$set(e.form,"name",s)},expression:"form.name"}}),t("my-form-select",{attrs:{label:"性别",placeholder:"请选择",actions:[{name:"男",value:"男"},{name:"女",value:"女"}]},model:{value:e.form.sex,callback:function(s){e.$set(e.form,"sex",s)},expression:"form.sex"}}),t("van-field",{attrs:{label:"所在城市",disabled:"disabled"},model:{value:e.form.city,callback:function(s){e.$set(e.form,"city",s)},expression:"form.city"}}),t("van-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号"},model:{value:e.form.id_card,callback:function(s){e.$set(e.form,"id_card",s)},expression:"form.id_card"}})],1),t("my-bottom-bar",{staticClass:"bottom",attrs:{click:e.save}},[t("div",{staticClass:"g-bottom-btn"},[e._v("提交")])])],1)},staticRenderFns:[]};var d=t("C7Lr")(i,u,!1,function(e){t("ltJW")},null,null);s.default=d.exports},ltJW:function(e,s){}});
//# sourceMappingURL=20.a53705247de32e388719.js.map