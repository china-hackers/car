webpackJsonp([6],{YcSL:function(e,t){},"lO+p":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4YfN"),r=a.n(s),n=a("lC5x"),l=a.n(n),i=a("J0Oq"),c=a.n(i),o=a("Quz9"),u={mixins:[o.a],data:function(){return{dealerInfo:{},userInfo:{}}},methods:{setDealerInfo:function(e){this.dealerInfo=e,this.getUserInfo()},getUserInfo:function(){var e=this;return c()(l.a.mark(function t(){var a,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/business/user",{bid:e.dealerInfo.id});case 3:a=t.sent,s=a.data,e.userInfo=s.data,console.log(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},pass:function(){var e=this;return c()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$confirm("确认审核通过吗？");case 3:return t.next=5,e.$http.post("/admin/business/check",{bid:e.dealerInfo.id,check:1});case 5:e.close(),e.$emit("change"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},reject:function(e){var t=this;return c()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$confirm("确认审核删除吗？");case 3:return e.next=5,t.$http.post("/admin/business/check",{bid:t.dealerInfo.id,check:0});case 5:t.close(),t.$emit("change"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"审核车商",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"comp-car-dealer-verify"},[a("h3",[e._v("机构信息")]),a("div",{staticClass:"infos"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("车商名称")]),a("div",{staticClass:"value"},[e._v(e._s(e.dealerInfo.name))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("电话号码")]),a("div",{staticClass:"value"},[e._v(e._s(e.dealerInfo.phone))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("备注")]),a("div",{staticClass:"value"},[e._v(e._s(e.dealerInfo.note))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("地址")]),a("div",{staticClass:"value"},[e._v(e._s(e.dealerInfo.address))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("经纬度")]),a("div",{staticClass:"value"},[e._v(e._s(e.dealerInfo.lat)+","+e._s(e.dealerInfo.lng))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("LOGO")]),a("div",{staticClass:"value"},[a("my-avatar",{attrs:{src:e.dealerInfo.logo||""}})],1)])]),a("h3",[e._v("申请者信息")]),a("div",{staticClass:"infos"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("用户名")]),a("div",{staticClass:"value"},[e._v(e._s(e.userInfo.name))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("头像")]),a("div",{staticClass:"value"},[a("my-avatar",{attrs:{src:e.userInfo.avatar||""}})],1)]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("昵称")]),a("div",{staticClass:"value"},[e._v(e._s(e.userInfo.nick))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("性别")]),a("div",{staticClass:"value"},[e._v(e._s(e.userInfo.sex))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("电话")]),a("div",{staticClass:"value"},[e._v(e._s(e.userInfo.phone))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("是否审核")]),a("div",{staticClass:"value"},[e._v(e._s(1===e.userInfo.is_checked?"是":"否"))])])]),a("div",{staticClass:"btns"},[a("my-button",{staticClass:"btn",attrs:{click:e.pass}},[e._v("通过审核")]),a("my-button",{attrs:{type:"plain",click:e.reject}},[e._v("不通过审核")])],1)])])},staticRenderFns:[]};var v=a("C7Lr")(u,d,!1,function(e){a("YcSL")},"data-v-60596472",null).exports,f=a("0wMN"),p={mixins:[f.a,o.a],data:function(){return{form:{}}},methods:{setData:function(e){this.form={address:e.address,name:e.name,phone:e.phone,ucard:e.ucard,ucity:e.ucity||"成都",uname:e.uname,uphone:e.uphone,usex:e.usex,id:e.id}},save:function(){var e=this;return c()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/business/save",e.form);case 3:e.success("修改成功"),e.$emit("success"),e.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改销售信息",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"车行名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"车行电话"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{label:"管理员姓名"}},[a("el-input",{model:{value:e.form.uname,callback:function(t){e.$set(e.form,"uname",t)},expression:"form.uname"}})],1),a("el-form-item",{attrs:{label:"管理员电话"}},[a("el-input",{model:{value:e.form.uphone,callback:function(t){e.$set(e.form,"uphone",t)},expression:"form.uphone"}})],1),a("el-form-item",{attrs:{label:"管理员城市"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.form.ucity,callback:function(t){e.$set(e.form,"ucity",t)},expression:"form.ucity"}})],1),a("el-form-item",{attrs:{label:"管理员身份证"}},[a("el-input",{model:{value:e.form.ucard,callback:function(t){e.$set(e.form,"ucard",t)},expression:"form.ucard"}})],1),a("el-form-item",{attrs:{label:"管理员性别"}},[a("el-radio-group",{model:{value:e.form.usex,callback:function(t){e.$set(e.form,"usex",t)},expression:"form.usex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:""}},[a("my-button",{attrs:{type:"primary",click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},b=a("C7Lr")(p,m,!1,null,null,null).exports,h={mixins:[f.a],data:function(){return{filter:{name:"",check:""},list:[]}},components:{"dealer-verify":v,DealerEditor:b},methods:{verify:function(e){var t=this;return c()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("确认审核通过吗？");case 3:return a.next=5,t.$http.post("/admin/business/check",{bid:e.id,check:1});case 5:t.success("审核成功"),t.req(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,t,[[0,9]])}))()},edit:function(e){var t=this;return c()(l.a.mark(function a(){var s;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:(s=t.$refs["dealer-editor"]).setData(e),s.open();case 3:case"end":return a.stop()}},a,t)}))()},reject:function(e){var t=this;return c()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("确认删除吗？");case 3:return a.next=5,t.$http.post("/admin/business/check",{bid:e.id,check:0});case 5:t.success("审核成功"),t.req(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,t,[[0,9]])}))()},viewDetail:function(e){this.$router.push({path:"/user/dealer-detail",query:{id:e.id}})},req:function(){var e=this;return c()(l.a.mark(function t(){var a,s,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r()({p:e.pagination.curPage},e.filter),t.next=4,e.$http.post("/admin/business/list",a);case 4:s=t.sent,n=s.data,e.dealData(n.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}},created:function(){this.req()}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-car-dealer"},[a("my-page-title",{attrs:{title:"车商管理"}}),a("div",{staticClass:"bar"},[a("el-form",{attrs:{inline:!0},nativeOn:{click:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{attrs:{placeholder:"请输入车商姓名"},on:{change:e.research},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),a("el-form-item",{attrs:{label:"审核："}},[a("el-select",{on:{change:e.research},model:{value:e.filter.check,callback:function(t){e.$set(e.filter,"check",t)},expression:"filter.check"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"未审核",value:0}}),a("el-option",{attrs:{label:"已审核",value:1}})],1)],1),a("el-form-item",[a("my-button",{attrs:{click:e.research}},[e._v("搜索")])],1)],1)],1),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"border"}},[a("el-table-column",{attrs:{align:"center",type:"index"}}),a("el-table-column",{attrs:{align:"center",label:"车行名称",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"电话号码",prop:"phone"}}),a("el-table-column",{attrs:{align:"center",label:"地址",prop:"address"}}),a("el-table-column",{attrs:{align:"center",label:"管理员姓名",prop:"uname"}}),a("el-table-column",{attrs:{align:"center",label:"管理员电话",prop:"uphone"}}),a("el-table-column",{attrs:{align:"center",label:"管理员城市",prop:"ucity"}}),a("el-table-column",{attrs:{align:"center",label:"管理员性别",prop:"usex"}}),a("el-table-column",{attrs:{align:"center",label:"管理员身份证",prop:"ucard"}}),a("el-table-column",{attrs:{align:"center",label:"是否审核",prop:"is_checked"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.is_checked?"是":"否"))]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_checked?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.verify(t.row)}}},[e._v("审核通过")]):e._e(),0===t.row.is_checked?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.reject(t.row)}}},[e._v("删除")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){e.viewDetail(t.row)}}},[e._v("查看销售员")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改信息")])]}}])})],1)],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"total,slot,prev,pager,next","current-page":e.pagination.curPage,"page-size":e.pagination.pageSize,total:e.pagination.pageTotal},on:{"update:currentPage":function(t){e.$set(e.pagination,"curPage",t)},"current-change":e.pageCurPageChange,"size-change":e.pageSizeChange}})],1),a("dealer-verify",{ref:"dealer-verify",on:{change:e.req}}),a("dealer-editor",{ref:"dealer-editor",on:{success:e.req}})],1)},staticRenderFns:[]};var x=a("C7Lr")(h,_,!1,function(e){a("x+E6")},"data-v-1796d202",null);t.default=x.exports},"x+E6":function(e,t){}});
//# sourceMappingURL=6.7a082e72a6a4e4c60f12.js.map