webpackJsonp([0],{OQXt:function(e,t,a){"use strict";var r=a("5/aF"),n=a.n(r),o=a("Z34F"),s=a.n(o),i=a("Quz9"),l=a("DErN"),d={mixins:[i.a],components:{"my-button":l.a},props:{ftype:{type:String,default:""}},data:function(){return{myValue:"",id:""}},methods:{setValue:function(e){this.myValue=""+e},setId:function(e){this.id=e},save:function(){var e=this;return s()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/finance/"+e.ftype+"state",{id:e.id,state:e.myValue});case 3:e.success("变更成功"),e.close(),e.$emit("change"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"状态修改",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"comp"},[a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}},[a("el-radio",{attrs:{label:"0"}},[e._v("已提交")]),a("el-radio",{attrs:{label:"1"}},[e._v("已接单")]),a("el-radio",{attrs:{label:"2"}},[e._v("资料收集中")]),a("el-radio",{attrs:{label:"3"}},[e._v("审核中")])],1)],1),a("el-form-item",[a("my-button",{attrs:{type:"primary",click:e.save}},[e._v("保存")])],1)],1)],1)])},staticRenderFns:[]},m=a("7jd7")(d,c,!1,null,null,null).exports,u=a("T7Ta"),f=a.n(u),p={mixins:[i.a],data:function(){return{form:{id:"",d_name:"",d_phone:"",d_type:"",d_money:0,d_money_return:0,d_month:0,d_pay:0,d_date:"",imgs:[]}}},methods:{setId:function(e){this.form.id=e,this.getInfo()},getInfo:function(){var e=this;return s()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/finance/loan",{id:e.form.id});case 3:a=t.sent,r=a.data,console.log(r),f()(e.form,{d_name:r.data.d_name,d_phone:r.data.d_phone,d_type:r.data.d_type,d_money:r.data.d_money,d_money_return:r.data.d_money_return,d_month:r.data.d_month,d_pay:r.data.d_pay,d_price:r.data.d_price,d_date:r.data.d_date,imgs:r.data.imgs}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},setDefaultData:function(e){f()(this.form,{d_name:e.name,d_phone:e.phone,d_type:e.itype,d_money:e.money,d_month:12*e.years})},save:function(){var e=this;return s()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/finance/loancheck",e.form);case 3:e.success("保存成功"),e.$emit("success"),e.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"贷款成交",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{staticClass:"form",attrs:{"label-width":"150px","label-position":"left"}},[a("el-form-item",{attrs:{label:"成交借款人姓名"}},[a("el-input",{model:{value:e.form.d_name,callback:function(t){e.$set(e.form,"d_name",t)},expression:"form.d_name"}})],1),a("el-form-item",{attrs:{label:"成交借款人电话"}},[a("el-input",{attrs:{type:"tel"},model:{value:e.form.d_phone,callback:function(t){e.$set(e.form,"d_phone",t)},expression:"form.d_phone"}})],1),a("el-form-item",{attrs:{label:"成交贷款类型"}},[a("el-select",{model:{value:e.form.d_type,callback:function(t){e.$set(e.form,"d_type",t)},expression:"form.d_type"}},[a("el-option",{attrs:{label:"新车贷款",value:"新车贷款"}}),a("el-option",{attrs:{label:"二手车贷款",value:"二手车贷款"}}),a("el-option",{attrs:{label:"有车贷款",value:"有车贷款"}})],1)],1),a("el-form-item",{attrs:{label:"实际还款总额(元)"}},[a("el-input-number",{attrs:{min:0,precision:0},model:{value:e.form.d_money_return,callback:function(t){e.$set(e.form,"d_money_return",t)},expression:"form.d_money_return"}})],1),a("el-form-item",{attrs:{label:"贷款总额(元)"}},[a("el-input-number",{attrs:{min:0,precision:0},model:{value:e.form.d_money,callback:function(t){e.$set(e.form,"d_money",t)},expression:"form.d_money"}})],1),a("el-form-item",{attrs:{label:"最终贷款时间(月数)"}},[a("el-input-number",{attrs:{min:0,precision:0},model:{value:e.form.d_month,callback:function(t){e.$set(e.form,"d_month",t)},expression:"form.d_month"}})],1),a("el-form-item",{attrs:{label:"每月还款金额(元)"}},[a("el-input-number",{attrs:{min:0,precision:0},model:{value:e.form.d_pay,callback:function(t){e.$set(e.form,"d_pay",t)},expression:"form.d_pay"}})],1),a("el-form-item",{attrs:{label:"首次还款时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.d_date,callback:function(t){e.$set(e.form,"d_date",t)},expression:"form.d_date"}})],1),a("my-form-images",{attrs:{label:"用户资料",size:100,action:"/admin/site/loanimg"},model:{value:e.form.imgs,callback:function(t){e.$set(e.form,"imgs",t)},expression:"form.imgs"}}),a("el-form-item",[a("my-button",{attrs:{type:"primary",click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},v=a("7jd7")(p,_,!1,null,null,null).exports,b={mixins:[i.a],data:function(){return{carModelData:[],form:{id:1,d_name:"",d_phone:"",d_car_no:"",d_car_id:0,d_s_outdate:"",d_j_outdate:"",d_price:0,options:[],car:[],imgs:[]}}},methods:{save:function(){var e=this;return s()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.form.d_car_id=e.form.car[2],t.next=4,e.$http.post("/admin/finance/safecheck",e.form);case 4:e.success("保存成功"),e.$emit("success"),e.close(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},setId:function(e){this.form.id=e,this.getInfo()},getInfo:function(){var e=this;return s()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/finance/safe",{id:e.form.id});case 3:a=t.sent,r=a.data,console.log(r),f()(e.form,{d_name:r.data.d_name,d_phone:r.data.d_phone,d_car_no:r.data.d_car_no,d_car_id:r.data.d_car_id,d_s_outdate:r.data.d_s_outdate,d_j_outdate:r.data.d_j_outdate,d_price:r.data.d_price,options:r.data.options,car:r.data.car,imgs:r.data.imgs}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},getCarModel:function(){var e=this;return s()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/car/cars",{p:1});case 3:a=t.sent,r=a.data,e.carModelData=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}},created:function(){this.getCarModel()}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"保险成交",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{staticClass:"form",attrs:{"label-width":"150px","label-position":"left"}},[a("el-form-item",{attrs:{label:"成交姓名"}},[a("el-input",{model:{value:e.form.d_name,callback:function(t){e.$set(e.form,"d_name",t)},expression:"form.d_name"}})],1),a("el-form-item",{attrs:{label:"成交电话"}},[a("el-input",{attrs:{type:"tel"},model:{value:e.form.d_phone,callback:function(t){e.$set(e.form,"d_phone",t)},expression:"form.d_phone"}})],1),a("el-form-item",{attrs:{label:"成交车牌号"}},[a("el-input",{model:{value:e.form.d_car_no,callback:function(t){e.$set(e.form,"d_car_no",t)},expression:"form.d_car_no"}})],1),a("el-form-item",{attrs:{label:"成交车型"}},[a("el-cascader",{attrs:{options:e.carModelData},model:{value:e.form.car,callback:function(t){e.$set(e.form,"car",t)},expression:"form.car"}})],1),a("el-form-item",{attrs:{label:"交强险到期时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.d_j_outdate,callback:function(t){e.$set(e.form,"d_j_outdate",t)},expression:"form.d_j_outdate"}})],1),a("el-form-item",{attrs:{label:"商业险到期时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.d_s_outdate,callback:function(t){e.$set(e.form,"d_s_outdate",t)},expression:"form.d_s_outdate"}})],1),a("el-form-item",{attrs:{label:"车险项目"}},[a("my-key-value",{model:{value:e.form.options,callback:function(t){e.$set(e.form,"options",t)},expression:"form.options"}})],1),a("el-form-item",{attrs:{label:"车险总价(元)"}},[a("el-input-number",{attrs:{min:0,precision:0},model:{value:e.form.d_price,callback:function(t){e.$set(e.form,"d_price",t)},expression:"form.d_price"}})],1),a("my-form-images",{attrs:{label:"用户资料",size:100,action:"/admin/site/safeimg"},model:{value:e.form.imgs,callback:function(t){e.$set(e.form,"imgs",t)},expression:"form.imgs"}}),a("el-form-item",[a("my-button",{attrs:{type:"primary",click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},y=a("7jd7")(b,h,!1,null,null,null).exports;t.a={data:function(){return{orderStatus:{0:"已提交",1:"已接单",2:"资料收集中",3:"审核中",4:"成交"}}},components:{StatusEditor:m,FinanceDealer:v,InsuranceDealer:y},methods:{getStatusText:function(e){return this.orderStatus[""+e]},changeStatus:function(e){var t=this.$refs["status-editor"];t.setValue(e.row.state),t.setId(e.row.id),t.open()},deal:function(e){var t=this;return s()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{(r=t.$refs["dealer-editor"]).setId(e.id),r.open()}catch(e){console.log(e)}case 1:case"end":return a.stop()}},a,t)}))()}}}}});
//# sourceMappingURL=0.8dd7141b5f7b64c569b3.js.map