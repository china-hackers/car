webpackJsonp([9],{"3k/i":function(e,t,a){"use strict";var n=a("5/aF"),r=a.n(n),s=a("Z34F"),i=a.n(s),l=a("Quz9"),o={mixins:[a("0wMN").a,l.a],data:function(){return{form:{city:"",id_card:"",name:"",phone:"",sex:"",uid:1}}},methods:{setData:function(e){this.form={name:e.name,phone:e.phone,id_card:e.id_card,sex:e.sex,city:e.city||"成都",id:e.uid},console.log(e)},save:function(){var e=this;return i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/admin/user/save",e.form);case 3:e.success("修改成功"),e.$emit("success"),e.close(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改销售信息",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"销售姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"城市"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{model:{value:e.form.id_card,callback:function(t){e.$set(e.form,"id_card",t)},expression:"form.id_card"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:""}},[a("my-button",{attrs:{type:"primary",click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},u=a("7jd7")(o,c,!1,null,null,null);t.a=u.exports},OVTU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5/aF"),r=a.n(n),s=a("Z34F"),i=a.n(s),l=a("0wMN"),o=a("1p1D"),c=a.n(o),u=a("Quz9"),p={mixins:[l.a,u.a],data:function(){return{filter:{name:"",check:1},uid:"",list:[]}},methods:{req:function(){var e=this;return i()(r.a.mark(function t(){var a,n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=c()({p:e.pagination.curPage},e.filter),t.next=4,e.$http.post("/admin/business/list",a);case 4:n=t.sent,s=n.data,e.dealData(s.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},setUId:function(e){this.uid=e},appoint:function(e){var t=this;return i()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.post("/admin/business/bind",{uid:t.uid,bid:e.id});case 3:t.success("指定成功"),t.$emit("success"),t.close(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}},a,t,[[0,8]])}))()}},created:function(){this.req()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"指定车商",visible:e.visible,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"comp"},[a("el-form",{attrs:{inline:!0},nativeOn:{click:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入车行名称"},on:{change:e.research},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),a("el-form-item",[a("my-button",{attrs:{click:e.research}},[e._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"border"}},[a("el-table-column",{attrs:{align:"center",type:"index"}}),a("el-table-column",{attrs:{align:"center",label:"车行名称",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"电话号码",prop:"phone"}}),a("el-table-column",{attrs:{align:"center",label:"地址",prop:"address"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.appoint(t.row)}}},[e._v("指定")])]}}])})],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"total,slot,prev,pager,next","current-page":e.pagination.curPage,"page-size":e.pagination.pageSize,total:e.pagination.pageTotal},on:{"update:currentPage":function(t){e.$set(e.pagination,"curPage",t)},"current-change":e.pageCurPageChange,"size-change":e.pageSizeChange}})],1)],1)])},staticRenderFns:[]},f=a("7jd7")(p,d,!1,null,null,null).exports,m=a("3k/i"),b={mixins:[l.a],components:{DealerAppoint:f,SalerEditor:m.a},data:function(){return{list:[]}},methods:{appoint:function(e){var t=this.$refs["dealer-appoint"];t.setUId(e.uid),t.open()},edit:function(e){var t=this.$refs["saler-editor"];t.setData(e),t.open()},pass:function(e){var t=this;return i()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,""!==e.business){a.next=4;break}return t.$alert("未指定车商，不能审核通过"),a.abrupt("return",!1);case 4:return a.next=6,t.$confirm("确认审核通过吗？");case 6:return a.next=8,t.$http.post("/admin/business/salercheck",{uid:e.uid});case 8:t.success("审核成功"),t.req(),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}},a,t,[[0,12]])}))()},reject:function(e){var t=this;return i()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("确认删除吗？");case 3:return a.next=5,t.$http.post("/admin/business/salerdelete",{uid:e.uid});case 5:t.success("删除成功"),t.req(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,t,[[0,9]])}))()},req:function(){var e=this;return i()(r.a.mark(function t(){var a,n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={p:e.pagination.curPage},t.next=4,e.$http.post("/admin/business/salerlist",a);case 4:n=t.sent,s=n.data,e.dealData(s.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}},created:function(){this.req()}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("my-page-title",{attrs:{title:"I品车销售"}}),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"border"}},[a("el-table-column",{attrs:{align:"center",type:"index"}}),a("el-table-column",{attrs:{align:"center",label:"销售姓名",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"电话",prop:"phone"}}),a("el-table-column",{attrs:{align:"center",label:"城市",prop:"city"}}),a("el-table-column",{attrs:{align:"center",label:"性别",prop:"sex"}}),a("el-table-column",{attrs:{align:"center",label:"身份证号",prop:"id_card"}}),a("el-table-column",{attrs:{align:"center",label:"所属车商",prop:"business"}}),a("el-table-column",{attrs:{align:"center",label:"已审核"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.is_checked?"是":"否"))]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.appoint(t.row)}}},[e._v("指定车商")]),0===t.row.is_checked?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.pass(t.row)}}},[e._v("审核通过")]):e._e(),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.reject(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改信息")])]}}])})],1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"total,slot,prev,pager,next","current-page":e.pagination.curPage,"page-size":e.pagination.pageSize,total:e.pagination.pageTotal},on:{"update:currentPage":function(t){e.$set(e.pagination,"curPage",t)},"current-change":e.pageCurPageChange,"size-change":e.pageSizeChange}})],1),a("dealer-appoint",{ref:"dealer-appoint",on:{success:e.req}}),a("saler-editor",{ref:"saler-editor",on:{success:e.req}})],1)},staticRenderFns:[]},v=a("7jd7")(b,g,!1,null,null,null);t.default=v.exports}});
//# sourceMappingURL=9.10f4bd302c88cdfa8a45.js.map